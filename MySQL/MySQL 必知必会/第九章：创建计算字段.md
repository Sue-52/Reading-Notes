---
title: 第九章：创建计算字段
lang: en-US
---

# 第九章：创建计算字段

## 计算字段

存储在数据库表中的数据一般不是应用程序所需要的格式。下面举几个例子。

- 如果想在一个字段中既显示公司名，又显示公司的地址，但这两个信息一般包含在不同的表列中。
- 城市、州和邮政编码存储在不同的列中（应该这样），但邮件标签打印程序却需要把它们作为一个恰当格式的字段检索出来。
- 列数据是大小写混合的，但报表程序需要把所有数据按大写表示出来。

存储在表中的数据都不是应用程序所需要的。我们需要直接从数据库中检索出转换、计算或格式化过的数据；而不是检索出数据，然后再在客户机应用程序或报告程序中重新格式化。

**字段（field）** 基本上与`列（column）`的意思相同，经常互换使用，不过数据库列一般称为列，而术语字段通常用在计算字段的连接上。

**客户机与服务器的格式:** 可在SQL语句内完成的许多转换和格式化工作都可以直接在客户机应用程序内完成。但一般来说，在数据库服务器上完成这些操作比在客户机中完成要快得多，因为DBMS是设计来快速有效地完成这种处理的。


## 字段拼接

**拼接（concatenate）** 将值联结到一起构成单个值。

MySQL的不同之处： 多数DBMS使用+或||来实现拼接，MySQL则使用Concat()函数来实现。当把SQL语句转换成MySQL语句时一定要把这个区别铭记在心。

~~~mysql
select concat(id,"--",title) from houses; 
~~~

![image-20211018151111127](https://gitee.com/sue201982/mysql/raw/master/img/202110292226296.png)

**Trim函数**： MySQL除了支持RTrim()（正如刚才所见，它去掉串右边的空格），还支持LTrim()（去掉串左边的空格）以及Trim()（去掉串左右两边的空格）。

## 使用别名

别名（alias）是一个字段或值的替换名。别名用AS关键字赋予。

~~~mysql
select concat(id,"--",title) as "房价" from houses; 
~~~

![image-20211018151418293](https://gitee.com/sue201982/mysql/raw/master/img/202110292226297.png)

**别名的其他用途**: 别名还有其他用途。常见的用途包括在实际的表列名包含不符合规定的字符（如空格）时重新命名它，在原来的名字含混或容易误解时扩充它，等等。

## 执行算数运算

| 运算符 | 描述 |
|--------|-----|
| + | 加 |
| - | 减 |
| * | 乘 |
| / | 除 |

~~~mysql
select price_num*`size` as "房价" from  houses;
~~~

![image-20211018151902936](https://gitee.com/sue201982/mysql/raw/master/img/202110292226298.png)
s